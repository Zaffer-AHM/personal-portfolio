---
import HorizontalLines from "../components/horizontalLines.astro";
import Scene from "../components/scene.jsx";
import Menu from "../components/menu.astro";
import About from "../components/info/about.astro";
import Projects from "../components/info/projects.astro";
import Artwork from "../components/info/artwork.astro";
import Contact from "../components/info/contact.astro";
---

<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Zaffer Ahmed</title>
  </head>
  <body class="bg-gray-950 m-0 p-0 w-screen h-screen overflow-hidden relative">
    <HorizontalLines />
    <Menu />

    <main>
      <section id="about" class="content-section slide-top">
        <About />
      </section>
      <section id="projects" class="content-section slide-bottom">
        <Projects />
      </section>
      <section id="artwork" class="content-section slide-right">
        <Artwork />
      </section>
      <section id="contact" class="content-section slide-left">
        <Contact />
      </section>

      <div>
        <Scene client:load />
      </div>
    </main>
  </body>

  <style>
    html,
    body {
      overflow: hidden;
    }
    .content-section {
      transform: translateX(-100%);
      opacity: 0;
      pointer-events: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      transition:
        transform 0.6s ease,
        opacity 0.6s ease;
      z-index: 40;
      background: white; /* optional */
    }

    .content-section.show {
      transform: translateX(0);
      opacity: 1;
      pointer-events: auto;
    }

    .slide-top {
      transform: translateY(-100%);
      opacity: 0;
      transition:
        transform 0.6s ease,
        opacity 0.6s ease;
    }
    .slide-top.show {
      transform: translateY(0);
      opacity: 1;
    }

    .slide-bottom {
      transform: translateY(100%);
      opacity: 0;
      transition:
        transform 0.6s ease,
        opacity 0.6s ease;
    }
    .slide-bottom.show {
      transform: translateY(0);
      opacity: 1;
    }

    .slide-right {
      transform: translateX(100%);
      opacity: 0;
      transition:
        transform 0.6s ease,
        opacity 0.6s ease;
    }
    .slide-right.show {
      transform: translateX(0);
      opacity: 1;
    }

    .slide-left {
      transform: translateX(-100%);
      opacity: 0;
      transition:
        transform 0.6s ease,
        opacity 0.6s ease;
    }
    .slide-left.show {
      transform: translateX(0);
      opacity: 1;
    }
  </style>

  <script type="module">
    const sections = document.querySelectorAll(".content-section");
    const buttons = document.querySelectorAll(".menu-link");
    const overlay = document.getElementById("overlay");

    function hideAllSections() {
      sections.forEach((sec) => sec.classList.remove("show"));
    }

    buttons.forEach((btn) => {
      btn.addEventListener("click", () => {
        const target = btn.dataset.target;

        hideAllSections();

        const active = document.getElementById(target);
        if (active) {
          requestAnimationFrame(() => active.classList.add("show"));
        }

        overlay.classList.remove("show");
      });
    });
  </script>
</html>
